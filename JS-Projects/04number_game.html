<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Number Guessing Game</title>
  </head>
  <style>
    body {
      display: flex;
      color: white;
      justify-content: center;
      background-color: black;
    }

    .larger {
      align-items: center;
      height: 560px;
      width: 350px;
      border: 5px solid white;
      background-color: #464545;
      padding: 5px;
    }

    .heading1 {
      background-color: black;
      text-align: center;
      padding: 5px;
    }

    .heading2 {
      font-family: serif;
      text-align: center;
    }

    .mainheading {
      text-align: center;
      font-family: serif;
    }

    .valarea {
      background-color: white;
      height: 30px;
      margin-bottom: 10px;
      width: 200px;
      border: 4px solid grey;
      text-align: center;
      font-weight: 900;
      font-size: 25px;
      padding: 5px;
    }

    button {
      background-color: #000000;
      color: white;
      width: 150px;
      height: 35px;
      text-align: center;
      font-size: 17px;
      padding: 7px 2px 7px 2px;
      font-weight: 600;
      border-radius: 8px;
      margin-bottom: 10px;
    }

    .button {
      background-color: #000000;
      color: white;
      width: 150px;
      height: 20px;
      text-align: center;
      font-size: 17px;
      padding: 7px 2px 7px 2px;
      font-weight: 600;
      border-radius: 8px;
      margin-top: 10px;
      cursor: pointer;
    }

    .game,
    form {
      display: flex;
      flex-direction: column;
      justify-content: space-evenly;
      align-items: center;
    }

    .previousguesses,
    .guessrem {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      width: 300px;
      height: 30px;
      margin: 5px;
      font-family: Arial, Helvetica, sans-serif;
    }

    .about {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 25px;
      height: 40px;
      width: 300px;
      border: 3px solid rgb(255, 255, 255);
      background-color: #000000;
      padding: 5px;
      color: white;
      font-size: 20px;
      font-weight: 900;
    }

  </style>
  <body>
    <div class="larger">
      <h2 class="heading1">Number Guessing Game</h2>
      <div class="game">
        <p class="heading2">
          You have 10 attempts to choose a number. You can guess it in the range
          between 1 and 100 (both inclusive).
        </p>
        <h1 class="mainheading">Guess a Number</h1>
        <form>
          <input type="text" class="valarea"/>
          <button type="submit">Submit Guess</button>
        </form>
        <div class="previousguesses">Your Previous Guesses are:</div>
        <div class="guessrem">Guesses remaining :</div>
        <div class="about"></div>
      </div>
    </div>
  </body>
  <script>

    let actualNumber = null;
    
    let previousGuesses = [];
    let guessRem = 10;
    let playGame = true;
    
    let form = document.querySelector('form');
    let inputField = document.querySelector('.valarea');
    let button = document.querySelector('button');
    let displayPreGuesses = document.querySelector('.previousguesses');
    let displaguessRem = document.querySelector('.guessrem');
    let result = document.querySelector('.about');
    let game = document.querySelector('.game');
    
    function stopInput(){
      inputField.setAttribute("disabled","");
      button.setAttribute("disabled","");
    }
    
    function startInput(){
      inputField.removeAttribute("disabled");
      button.removeAttribute("disabled");
    }
    
    function showCurrentStatus(){
      displayPreGuesses.innerText  = `Previous Guesses are : ${previousGuesses}`;
      displaguessRem.innerText  = `Number of Remaning guesses are : ${guessRem}`;
    }
    
    function generateRandomNumber(){
      let num1 = (Math.floor(Math.random() * 100)) + 1;
      return num1;
    }
    
    function clearResult(){
      result.innerText = '';
    }

    function startGame(){
      actualNumber = generateRandomNumber();
      playGame = true;
      inputField.value = '';
      guessRem = 10;
      previousGuesses = [];
      showCurrentStatus();
      startInput();
      clearResult();
    }
    
    function Addbutton(){
      const div = document.createElement('button');
      div.style.height = '35px';
      div.style.width = '150px';
      div.innerText = "Play Again";
      div.style.color = 'white';
      div.style.backgroundColor = 'black';
      div.style.padding = '5px';
      div.style.margin = '10px';
      div.style.border = '2px solid white';
      game.appendChild(div);
      div.addEventListener('click',function(event){
        startGame();
        div.remove();
      });
    }
    
    function endGame(){
      playGame = false;
      inputField.value = '';
      Addbutton();
      displayResult(false);
      clearInput();
      stopInput();
    }
    
    function displayResult(isWon){
      if(isWon){
        result.innerText = `Hurrah...  You win the game.. Your guess ${actualNumber} is correct`;
      }
      else{
        result.innerText = `Oh... You lose the game.. The Random Number was ${actualNumber}`;
      }
    }
    
    function stopGame(){
      playGame = false;
      inputField.value = '';
      Addbutton();
      displayResult(true);
      showCurrentStatus();
      clearInput();
      stopInput();
    }
    
    function clearInput(){
      inputField.value = '';
    }
    
    function takeInput(){
      return inputField.value;
    }
    
    function ValidateGuess(){
      let val = takeInput();
      let num = parseInt(val);
      if(val == '' || val.trim() == '' || isNaN(num) || num <= 0 || num > 100){
        return -1;
      }
      else{
        return num;
      }
    }
    
    function isGuessAvailable(){
      if(guessRem <= 0){
        return false;
      }
      else return true;
    }
    
    function checkGuess(num){
      if(num > actualNumber){
        result.innerText = `The number ${num} is too high`;
      }
      else if (num == actualNumber){
        return true;
      }
      else {
        result.innerText = `The number ${num} is too low`;
      }
      return false;
    };
    
    function MainGame(){
      let num = ValidateGuess();
      if(num == -1){
        result.innerText = `Please make a valid guess`;
      }
      else{
        guessRem--;
        let isWon = checkGuess(num);
        previousGuesses.push(num);
        if(isWon) {
          stopGame();
          return;
        }
      }
      clearInput();
      showCurrentStatus();
      
      if(!isGuessAvailable()){
        endGame();
        return;
      }
    }
    
    startGame();

    form.addEventListener('submit',function(event){
      event.preventDefault();
      MainGame();
    },false);
    
  </script>
</html>
